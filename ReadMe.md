# TwitClone

A Twitter-like backend application built using the Django Rest Framework.


## Project Features:

This project supports the following functionalities:
1. Sign-up with a new account to TwitClone
2. Log-in to your TwitClone account
3. Follow other TwitClone accounts 
4. Unfollow other TwitClone accounts 
5. Create Tweets
6. Delete Tweets
7. Read Tweets
8. Like/Unlike Tweets
9. Retweet
10. Reply to Tweets

## System Requirements:

To build this application, I have used:
1. Python 3.6.3
2. Django 2.1.5


## Before you run the project:

Before you run the project, you are required to make the following changes in the settings.py file in the twitclone subfolder.
- Change EMAIL_HOST_USER to your own Gmail ID
- Change EMAIL_HOST_PASSWORD to your own Gmail Password

The e-mail ID you put above will be used as the 'SENDER' of all the TwitClone verification e-mails.  
*Note: Please ensure that 'Less secure app access' under the Security wing of your Gmail account has been turned on. If not, you won't be able to send e-mails via this Django application through your Gmail account.*  

In the course of this explanation, I will refer to two terminal screens - T1 and T2.  
Keep a watch on both these screens to find out if there was any error in input or for other happenings.  

Open up a terminal (T1) and run the following command:  
`python manage.py runserver`    
This should get the Django server up and running on T1. Keep this server running on T1 throughout.


## Explanation of each functionality:

### 1. Sign Up

This involves 2 steps:
- First, the new user creates an account using his e-mail ID, a unique username and a password. His account is currently still in an inactive state.
- Second, the user gets a verification e-mail from TwitClone on his e-mail ID. Once he clicks on the given link, his account is activated!

On T2, run the following command:

`curl -X POST http://127.0.0.1:8000/myapp/register/ -d '{"email":"mail@gmail.com", "username":"anushree", "password":"123"}' -H "Content-Type:application/json"`

*Note: Please enter a valid email ID here as an e-mail will be sent from the SENDER to this e-mail ID for account verification*  

Once the user logs in to *mail@gmail.com*, he will see a welcome e-mail from TwitClone with a unique link (generated by encoding the username - more on that later). By clicking on this link, his account will get activated.

### 2. Log In

Once a user has activated his account, he can log in to TwitClone by entering his username and password.

On T2, run the following command:

`curl -X POST http://127.0.0.1:8000/myapp/login/ -d '{"username": "anushree", "password":"anushree"}' -H "Content-Type:application/json"`

*Note: Once a user logs in, the server returns his username in 64-bit encoded format to the client. Client is expected to store this encoded username in local storage/cookies and use it whenever he wants to fetch something from the server. This was done so as to ensure that actual data was not sent directly (which would make the system prone to attacks) At a production level, a custom encoding scheme can be used to achieve higher amount of security!*  

### 3. Follow 


*Before running the next tests, I created and activated 2 more TwitClone accounts - 'sam' and 'nidhi' (Using the Sign Up operation). You can do the same too, as you will need more than 1 account to test out the project's next functionalities like follow, like etc*  

On T2, run the following command:

`curl -X POST http://127.0.0.1:8000/myapp/follow/ -d '{"follower": "bmlkaGk=", "followee":"c2Ft"}' -H "Content-Type:application/json"`

**Please ensure that both follower and followee Users exist in the database before performing this operation to avoid errors.**  
*Note: Here, follower and followee data should be in 64-bit encoded format*  

For the sake of convenience, here are some 64-bit encoded forms of usernames which I used when testing the project:  
anushree : YW51c2g=  
sam : c2Ft  
nidhi : bmlkaGk=  

### 4. Unfollow

On T2, run the following command:

`curl -X POST http://127.0.0.1:8000/myapp/unfollow/ -d '{"follower": "bmlkaGk=", "followee":"c2Ft"}' -H "Content-Type:application/json"`

As was the case with the follow operation, here too we send follower and followee usernames in encoded 64-bit format.  

### 5. Create Tweet

Maximum length of a tweet is 280 chars.

On T2, run the following command:

`curl -X POST http://127.0.0.1:8000/myapp/createtweet/ -d '{"username": "YW51c2g=", "content":"My first tweet!"}' -H "Content-Type:application/json"`

Here, username is in 64-bit encoded format and content refers to the content of the tweet.  

### 5. Delete Tweet

`curl -X POST http://127.0.0.1:8000/myapp/deletetweet/ -d '{"tweet_id": "1"}' -H "Content-Type:application/json"`  

To delete a tweet, you simply need to send the ID of the tweet to be deleted.  

### 7. Read Tweets

`curl -X POST http://127.0.0.1:8000/myapp/readtweets/ -d '{"username": "bmlkaGk="}' -H "Content-Type:application/json"`

Here, we simply need to send the encoded 64-bit username of TwitClone user whose tweets we wants to read to the server. Server will send a list of all the tweets made by that user.  

### 8. Like/ Unlike Tweets
`curl -X POST http://127.0.0.1:8000/myapp/likeunlike/ -d '{"tweet_id": "6", "activity_id:"1}' -H "Content-Type:application/json"`  

Here, we need to send the server the tweet_id along with activity_id (1 == like operation, 2 == unlike operation)

### 9. Retweet

`curl -X POST http://127.0.0.1:8000/myapp/retweet/ -d '{"tweet_id": "6","username":"c2Ft"}' -H "Content-Type:application/json"`

Here, we need to send the server our own username (64-bit encoded form) and the tweet_id of the tweet we wish to retweet.  

### 9. Reply to tweets

`curl -X POST http://127.0.0.1:8000/myapp/replytweet/ -d '{"tweet_id": "6","username":"c2Ft", "reply_content":"Nice!"}' -H "Content-Type:application/json"`

Here, we need to send the server our own username (64-bit encoded form), the tweet_id of the tweet we wish to retweet and the reply content.    


## Ending notes

- If you wish to see how the database of this project was designed, check out the models.py file in the myapp subfolder.  

- There are several places where one needs to use encoded format of another user's username. This must be provided by the server as per the requirements in the application. This is by no means a complete product. A few more views will need to be added (as per the feel of the application and how the front-end is designed) to build a complete project.

- Since this project tries it's best to adhere to REST standards, you can design your client side as per your  preferences and requirements. (Web app/Android app etc)____